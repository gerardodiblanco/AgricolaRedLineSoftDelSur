<div class="container">
<h1>Nuevo Campo</h1>


<div *ngIf="campo"> 
        <agm-map (mapReady)= actualizarMarker()
        [latitude]="latInicio" 
        [longitude]="lngInicio"
        [zoom]="14"
        (mapClick)="mapClickeado($event)"
        (mapRightClick)="eliminarMarcador()"
        >
        <agm-marker
        *ngFor= "let m of markers; let i = index"
        (markerClick)="marcadorClicleado(m,i)"
        [latitude]="m.lati"
        [longitude]="m.longi"
        [markerDraggable]="true"
        iconUrl="assets/img/iconoMarcador.png"
        (dragEnd)="posicionFinalMarcador(m,$event,i)"
        >

            <agm-polygon
            [paths]= "paths"
            fillOpacity = 0.1
            fillColor  = #21AF04
            >
            </agm-polygon>

            <agm-info-window>
            <strong>{{m.nombre}}</strong>
            </agm-info-window>
        </agm-marker>
        </agm-map>

    <p>The panel-group class clears the bottom-margin. Try to remove the class and see what happens.</p>
        <div class="panel-group">
          <div class="panel panel-primary">
            <div class="panel-heading">Datos del Campo</div>
            <div class="panel-body">
                <form class="form-inline" (ngSubmit)="onSubmit()"  >
                            
                    <div class="form-group">
                       <label for="txtNombre" class="col-lg-2 control-label" >Nombre: </label>
                        <div class="col-sm-10">
                             <input type="text"  required [(ngModel)]="campo.nombre" name="txtNombre" />
                        </div>
                    </div>         
                    <div class="form-group">
                         <label for="txtCuit" class="col-lg-2 control-label">CUIT:</label>
                         <div class="col-sm-10">
                            <input type="text"  required [(ngModel)]="campo.cuit" name="txtCuit"  />
                    
                        </div>
                    </div>          
                    <div class="form-group">
                          <label for="txtHcta" class="col-lg-2 control-label">Hectarea:</label>
                          <div class="col-sm-10">
                            <input type="number" required [(ngModel)]="campo.hectarea" name="txtHcta" />
                   
                        </div>
                    </div>          
                    <div class="form-group">
                            <label for="txtCod" class="col-lg-2 control-label">Codigo:</label>
                        <div class="col-sm-10">
                            <input type="number"  required [(ngModel)]="campo.codigo" name="txtCod" />
                    
                        </div>
                    </div>  
             
                    <div class="form-group">
                            <label for="txtCod" class="col-lg-2 control-label">Calle:</label>
                        <div class="col-sm-10">
                            <input type="number"  required [(ngModel)]="campo.calle" name="nroCalla" />
                    
                        </div>
                    </div>  

                    <div class="form-group">
                        <label for="txtCod" class="col-lg-2 control-label">Numero:</label>
                    <div class="col-sm-10">
                        <input type="number"  required [(ngModel)]="campo.numeroDomicilio" name="nroDomicilio" />
                
                    </div>
                    </div> 

 

                    <div class="form-group">
                        <label for="tipoCampo">Tipo de Campo: </label>
                            <select [(ngModel)]="campo.tipo" [ngModelOptions]="{standalone: true}" >
                              <option *ngFor="let tipo of tipoCampo"  [selected]="tipo.nombre == campo.tipo">{{tipo.nombre}}</option>
                            </select>
                        
                    </div> 

                    <div class="form-group">
                        <label for="localidades">Localidad: </label>
                            <select [(ngModel)]="campo.localidad" [ngModelOptions]="{standalone: true}" >
                              <option *ngFor="let localidad of localidades"  [selected]="localidad.nombre == campo.localidad">{{localidad.nombre}}</option>
                            </select>
                        
                    </div> 



                    <div>
                                  
                        <div class="col-sm-offset-2 col-sm-10">
                        <button type="submit" class="btn btn-primary" >Guardar</button>
                    </div>

                              
                  </div>
                  
                </form>

            </div>
    </div>
        </div>
</div>
