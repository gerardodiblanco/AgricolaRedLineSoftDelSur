<div class="wrapper wrapper-content animated fadeInRight">

  <div class="row">
    <div class="col-lg-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5>Sub Cuarteles</h5>

        </div>
        <div class="ibox-content">

          <div *ngIf="subcuarteles">

            <div class="table-responsive" *ngIf="subcuarteles">
              <table class="table table-hover toggle-arrow-tiny">
                <thead>
                  <tr class="success">

                    <th>Nombre</th>
                    <th>Hectareas</th>
                    <th>Codigo</th>
                    <th>Variedad</th>

                    <th></th>
                    <th></th>


                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let subcuartel of subcuarteles">

                    <td>{{subcuartel.descripcion}}</td>
                    <td>{{subcuartel.hectarea}}</td>
                    <td>{{subcuartel.codigo}}</td>
                    <td>{{subcuartel.variedad}}</td>
                    <td> <button type="button" class="btn btn-info" [routerLink]="['/nuevo-subCuartel',subcuartel.idCuartel,subcuartel.idSubCuartel]">Ver subcuartel</button></td>
                    <td> <button type="button" class="btn btn-danger" (click)="eliminarSubCuartel(subcuartel.idSubCuartel)">Eliminar Cuartel</button> </td>

                  </tr>
                </tbody>
                <tfoot>
                  <tr>
                    <td colspan="5">
                      <ul class="pagination pull-right"></ul>
                    </td>
                  </tr>
                </tfoot>

              </table>
              <div *ngIf="cuartel">
                <button type="button" class="btn btn-primary" [routerLink]="['/nuevo-subCuartel',cuartel.idCuartel]">Crear SubCuartel</button>
              </div>
              <p></p>


              <div *ngIf="cuartel">
                <agm-map [latitude]="latInicio" [longitude]="lngInicio" [zoom]="14" (mapClick)="mapClickeado($event)" (mapRightClick)="eliminarMarcador()" (draggableCursor)="assets/img/iconoFlecha.png">
                  <agm-marker *ngFor="let m of markers; let i = index" (markerClick)="marcadorClicleado(m,i)" [latitude]="m.lati" [longitude]="m.longi" [markerDraggable]="editable" iconUrl="assets/img/iconoMarcador.png" (dragEnd)="posicionFinalMarcador(m,$event,i)">
                  </agm-marker>

                  <agm-polygon [paths]="pathsCampo" fillOpacity=0.1>
                  </agm-polygon>

                  <agm-polygon *ngFor="let es of pathsCuartelConVariedad" [paths]="es.paths" fillOpacity=0.6 fillColor="{{es.color}}">

                  </agm-polygon>

                  <agm-polygon [paths]="pathsCuartel" fillOpacity=0.3 fillColor=#0080FF>
                  </agm-polygon>

                </agm-map>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
